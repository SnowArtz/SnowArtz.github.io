<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Stripboard Circuit Design</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  table {
        border-collapse: collapse;
        width: 100%;
    }
    th, td {
        padding: 8px;
        text-align: center;
        border-bottom: 1px solid #ddd;
    }
    th {
        background-color: #f2f2f2;
    }
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/styles.css"/>
<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu' rel='stylesheet' type='text/css'>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Dispensador</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Stripboard Circuit Design</a>
<ul>
<li><a href="#sec-1-1">The design challenges</a></li>
<li><a href="#sec-1-2">Badge It Silver</a></li>
<li><a href="#sec-1-3">Badge It Gold</a></li>
<li><a href="#sec-1-4">Badge It Platinum</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class=ribbon>
  <a href="./index.html">Return to homepage</a>
</div>
<center>
<img src='img/Dispensador1.jpg' width=50%>
</center>

<div id="outline-container-sec-1" class="outline-2 ">
<h2 id="sec-1"><span class="section-number-2">1</span> Descripción General</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li> La principal función del subsistema de dispensador de agua es distribuir y controlar la cantidad de agua que se dispensa para obtener una cantidad deseada con alta precisión. 
</li>
<li> El dispensador de agua utiliza un módulo L298n para controlar la velocidad de la bomba a través de pulsos PWM (modulación por ancho de pulso), que son proporcionados por un Arduino Uno. Este módulo recibe su alimentación de la red eléctrica a través de un regulador a 12V, garantizando un funcionamiento eficiente y constante.
</li>
<li> El dispensador de agua incorpora un sensor de flujo YF-S201 que opera mediante el efecto Hall, enviando pulsos que son procesados por el Arduino Uno. Este dispositivo permite al sistema conocer la cantidad de agua que se está dispensando en tiempo real, permitiendo que el Arduino Uno controle el módulo L298n para detener el suministro de agua cuando sea necesario. Esto asegura un uso eficiente del agua y evita desperdicios.
</li>
</ul>
</div>
<div id="outline-container-sec-1-1" class="outline-3 build">
<h3 id="sec-1-1">Esquemático</h3>
<center>
<img src='img/Dispensador.png' width=80%>
</center>
<ul>
<p><b>1. Arduino</b></p>
    <ul>
        <li>Tipo y modelo de placa: Arduino Uno</li>
        <li>Microcontrolador: ATmega328P</li>
        <li>Programación: Lenguaje C++ y entorno de programación Arduino IDE</li>
        <li>Rango de voltaje: 5VDC</li>
        <li>Rango de temperatura: -40°C a 85°C</li>
    </ul>
</li>
<p> <b>2. Sensor de flujo (Yf-S201)</b>   </p>

    <ul>
        <li>Suministro de voltaje: 5 V - 18 V</li>
        <li>Temperatura de operación: -25 - 80 °C</li>
        <li>Máxima presión de agua: 2 Mpa</li>
        <li>Rango de operación de flujo: 1 - 30 l/min</li>
    </ul>
    <p> <b>3. Mini bomba electrosumergible</b>   </p>

    <ul>
        <li>Suministro de voltaje: 2.5 V - 6 V</li>
        <li>Caudal: 1.3 - 2 l/min</li>
        <li>Elevación: 40 - 110 cm</li>
    </ul>
    <p> <b>4. Pantalla LCD</b>   </p>

    <ul>
        <li>Dimensiones: 16 caracteres por 2 líneas de texto; tamaño de la pantalla: 80mm x 36mm x 12mm</li>
        <li>Tipo de pantalla: Pantalla LCD alfanumérica</li>
        <li>Tipo de luz de fondo: Luz de fondo LED de color azul</li>
        <li>Voltaje de operación: 5V DC</li>
        <li>Corriente de operación: Menos de 1mA en espera; 2mA a plena carga</li>
        <li>Interfaz: Interfaz de comunicación paralela de 4 bits</li>
    </ul>
</ul>
</div>
<div id="outline-container-sec-1-1" class="outline-3 run">
<ul class="org-ul">
<p>En el esquemático anterior se pueden encontrar las conexiones necesarias para llevar acabo la implementación del montaje del dispensador. <br>  El sensor de flujo requiere una conexión a 5V, una conexión a GND y una conexión a un pin del arduino que permita interrupciones, a través de estas interrupciones se contaran los pulsos emitidos por el sensor de hall para poder conocer la cantidad de agua que ha pasado hasta el momento. <br> Por su parte el puente H L298N requiere una conexión a una fuente de alimentación externa para proveer la cantidad de corriente necesaria al motor DC, por su parte requiere 3 pines de conexión al arduino, uno de enable y los otros dos para indicar la dirección del mismo.</p>

<h3 id="sec-1">Macroalgoritmo</h3>
<center>
<img src='img/mermaid-diagram-2023-05-26-001447.png' width=100%>
</center>


<div id="outline-container-sec-1-1" class="outline-3 code">

<h3 id="sec-1">Calibración</h3>
<center>
<img src='img/CurvaCalibracionG8 (1).jpeg' width=100%>
</center>

<table>
    <caption><b>Datos de calibración mini bomba</b></caption>
    <thead>
        <tr>
            <th>Voltaje PWM (V)</th>
            <th>Caudal (ml/s)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>0,00</td>
            <td>0</td>
        </tr>
        <tr>
            <td>0,49</td>
            <td>0</td>
        </tr>
        <tr>
            <td>0,98</td>
            <td>0</td>
        </tr>
        <tr>
            <td>1,47</td>
            <td>0</td>
        </tr>
        <tr>
            <td>1,96</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2,45</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2,94</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2,96</td>
            <td>0</td>
        </tr>
        <tr>
            <td>2,98</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,00</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,02</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,04</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,14</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,24</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,29</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,33</td>
            <td>0</td>
        </tr>
        <tr>
            <td>3,39</td>
            <td>10,3</td>
        </tr>
        <tr>
            <td>3,43</td>
            <td>15,36</td>
        </tr>
        <tr>
            <td>3,92</td>
            <td>16,09</td>
        </tr>
        <tr>
            <td>4,41</td>
            <td>18,32</td>
        </tr>
        <tr>
            <td>4,90</td>
            <td>20,54</td>
        </tr>
        <tr>
            <td>5,00</td>
            <td>24,92</td>
        </tr>
    </tbody>
</table>

<p>
</p>

</div>
</div>
<div id="postamble" class="status">
</div>
</body>
</html>
